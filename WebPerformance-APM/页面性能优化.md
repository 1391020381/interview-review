# 加载阶段
## 优化原则
1. 减少关键资源个数
2. 降低关键资源大小
3. 降低关键资源的RTT次数
## 影响页面加载速度的因素
1. 关键资源个数
2. 关键资源大小
3. 请求关键资源需要的RTT
## 优化方案
1. 内联JS CSS
2. 使用 async defer 属性
3. 压缩资源
4. 使用CDN

# 交互阶段
## 优化原则
1. 减少单帧生成时间

## 影响帧生成速度的因素
1. js脚本执行速度
2. 强制同步布局
* 强制同步布局 是指JS强制将计算样式和布局操作提前到当前任务中。
* 比如获取布局信息 scrollTop clientWidth
* 对dom元素进行样式修改后立即进行布局信息获取,也会导致强制布局。 因为浏览器需要首先应用你的样式更改,然后计算返回最新的布局信息。

* 批量读取/写入
* 使用 Transform 替代 Width / Height / Top /left
* 使用 requestAnimationFrame  把修改元素样式的代码放在requestAnimationFrame回调函数中。可以让浏览器在下一次重绘之前更新元素样式。这样可以描述多个元素的更改,避免了多次重排。

```
window.requestAnimationFrame(()=>{
    element.style.height = '100px';
    element.style.width = '100px'
})

```
3. 布局抖动
4. CSS合成动画
5. 避免频繁的垃圾回收
## 优化手段
1. 分解长时间执行的函数
2. 使用Web Workers
3. 避免强制同步布局
4. 避免布局抖动
5. 合理利用CSS合成动画
6. 避免频繁的垃圾回收




* js css 对页面 加载渲染的影响
1. 阻塞渲染：浏览器在获取CSS文件并对其进行解析和应用之前，会停止HTML的解析过程。这就意味着如果CSS文件加载时间过长，用户会看到一个空白的页面，直到CSS被完全加载和解析。
2. 阻塞JavaScript的执行: 在默认情况下，如果JavaScript文件在CSS之前执行，并尝试修改DOM，浏览器会阻塞JavaScript的执行，直到CSS被完全加载和解析。

* 浏览器在加载页面 渲染页面时，等待js css 资源 ，如果资源失败，或超时就放弃渲染了。