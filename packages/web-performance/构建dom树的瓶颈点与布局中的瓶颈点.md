# 构建dom树的瓶颈点

1. DOM元素数量：元素数量越多，构建DOM树所需的时间就越长。因为每一个DOM元素都需要创建一个或多个对象，并且可能引发对样式、布局的计算。
2. 嵌套层数深度：DOM树的深度和整体性能密切相关。深度嵌套的DOM元素会导致渲染效率降低，因为更深的层级意味着更长的计算链。
3. 各种动态改变DOM的操作：如频繁地增加、删除、修改DOM等都会引起浏览器的重新渲染，进而影响到性能。

# 布局中的瓶颈点：

1. 强制同步布局：改变DOM的一些操作可能会导致浏览器进行强制同步布局。浏览器会直接停下正在做的工作，去进行计算和布局。如果频繁触发，将会严重影响性能，例如：获取 offsetWidth, offsetHeight, clientTop, clientLeft等属性。
2. 过度复杂的CSS样式：复杂数学函数（如高次贝塞尔曲线）、复杂的条目选择器、大量的渐变和阴影等，所有这些都会使布局阶段的计算变得更加复杂和耗时。
大量的浮动和定位元素：大量的浮动和绝对／固定定位的元素会影响布局计算的性能，因为浏览器需要不断地去计算元素位置。
3. 频繁触发重排（Reflows）：改变字体大小、改变元素位置、添加或删除可见的DOM元素，触发CSS伪类等，都会触发浏览器的重新布局，导致性能下降。