* 什么是fiber ? Fiber 架构解决了什么问题？ 
* Fiber root 和 root fiber 有什么区别？ 
* 不同fiber 之间如何建立起关联的？
* React 调和流程？
* 两大阶段 commit 和 render 都做了哪些事情？
* 什么是双缓冲树？ 有什么作用？
* Fiber 深度遍历流程？
* Fiber的调和能中断吗？ 如何中断？





* 您问的很好！虽然 React 的 Fiber 架构实现了中断和恢复渲染过程，但它 并非 通过协程 (Coroutine) 来实现的。
React 使用的是一种基于事件循环和优先级队列的机制来实现中断和恢复。
具体来说，React 的 Fiber 架构是基于以下几个关键概念实现的：
1. 时间分片 (Time Slicing): React 在每个时间片 (time slice) 内执行一小部分渲染工作，时间片通常是浏览器帧的 1/5，大约 5ms。
2. 优先级 (Priority): 每个 Fiber 节点都有一个优先级，用于指示其重要性。React 会优先处理高优先级的 Fiber 节点，例如用户交互相关的更新。
3. 中断点 (Yield Points): React 在渲染过程中设置了一些中断点，例如：
• 浏览器帧结束时。
• 执行时间超过时间片限制时。
• 遇到高优先级的更新任务时。
4. 恢复渲染: 当满足以下条件时，React 会恢复渲染过程：
• 浏览器空闲时。
• 当前任务的优先级高于其他任务时。
协程 (Coroutine) 的工作原理:
协程是一种轻量级的线程，它允许程序在不同的执行点之间切换，并保持其状态。协程通常用于异步操作，例如网络请求或文件 I/O。
React 的 Fiber 架构与协程的区别:
• React 的 Fiber 架构是基于事件循环和优先级队列的，而协程是基于线程的。
• React 的 Fiber 架构用于管理渲染过程，而协程通常用于异步操作。
• React 的 Fiber 架构可以中断和恢复渲染过程，而协程可以暂停和恢复程序执行。
总结:
React 的 Fiber 架构使用了一种基于事件循环和优先级队列的机制来实现中断和恢复渲染过程，而不是协程。